<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SHIFT — Car Culture Magazine</title>
  <meta name="description" content="감도 있는 자동차 매거진 랜딩. 리뷰, 기술, 모터스포츠, 시장 트렌드까지." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* THEME — HIGH-END / RACING (All Black) */
    :root{
      --bg:#0a0a0a;      /* 거의 순흑 */
      --panel:#0e0e0e;   /* 카드 배경 */
      --ink:#f5f5f5;     /* 본문 텍스트 */
      --muted:#a3a3a3;   /* 보조 텍스트 */
      --line:#1a1a1a;    /* 디바이더 */
      --brand:#ffffff;   /* 제목/로고 */
      --accent:#ef4444;  /* 레이싱 레드 */
      --chip:#141414;    /* 태그 배경 */
      --shadow:0 10px 40px rgba(0,0,0,.55);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--ink);
      font-family:'Space Grotesk',system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Malgun Gothic,sans-serif; line-height:1.6}
    h1,h2,h3{font-family:"Archivo Black",system-ui,sans-serif; letter-spacing:.2px}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%;height:auto;border-radius:12px}
    .container{max-width:1180px;margin:0 auto;padding:0 20px}

    /* Header */
    header{position:sticky;top:0;z-index:50;border-bottom:1px solid var(--line);background:rgba(10,10,10,.8);backdrop-filter:blur(8px)}
    [data-theme="dark"] header{background:linear-gradient(0deg,rgba(11,13,18,.25),rgba(11,13,18,.6))}
    .nav{display:flex;align-items:center;justify-content:space-between;height:72px}
    .logo{display:flex;align-items:center;gap:10px;font-weight:800;letter-spacing:.4px}
    .logo .mark{width:24px;height:24px;border-radius:6px;background:linear-gradient(135deg,var(--accent),#7f1d1d);box-shadow:0 6px 18px rgba(239,68,68,.25)}
    .menu{display:flex;gap:10px}
    .menu a{padding:10px 12px;border-radius:10px;color:var(--muted);border:1px solid transparent}
    .menu a:hover,.menu a.active{background:transparent;color:var(--brand);border-color:#262626}
    
    .actions{display:flex;gap:10px}
    .btn{padding:10px 14px;border-radius:12px;border:1px solid #262626;background:transparent;color:var(--ink)}
    .btn.primary{border-color:var(--accent);background:var(--accent);color:#fff}
    .btn.ghost{background:transparent;border-color:#262626}
    .btn.primary{border-color:#0ea5e9;background:linear-gradient(180deg,#38bdf8,#0ea5e9);color:#fff}
    .btn.ghost{background:transparent;border-color:var(--line)}

    /* Hero */
    .hero{padding:56px 0}
    .hero-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:18px}
    .kicker{color:var(--muted);text-transform:uppercase;font-size:12px;letter-spacing:2px}
    h1.display{font-weight:400;line-height:1.02;font-size:clamp(36px,6vw,68px);margin:10px 0 12px;color:var(--brand)}
    .lead{color:#cccccc;max-width:640px}
    .hero .card{grid-column:span 12;background:var(--panel);border:1px solid var(--line);border-radius:14px;overflow:hidden;box-shadow:var(--shadow);transition:transform .18s ease, border-color .2s}
    .card:hover{transform:translateY(-2px);border-color:#262626}
    .thumb{position:relative;overflow:hidden;border-radius:14px}
    .thumb img{transition:transform .25s ease}
    .card:hover .thumb img{transform:scale(1.03)}
    .thumb .tag{position:absolute;left:10px;top:10px;background:rgba(0,0,0,.5);backdrop-filter:blur(6px);padding:6px 10px;border-radius:999px;border:1px solid #2a2a2a;font-size:12px;color:#fafafa}
    .thumb .shadow{position:absolute;inset:0;background:linear-gradient(0deg,rgba(0,0,0,.45),transparent 40%)}

    /* Filters */
    .controls{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin:26px 0}
    .pill{padding:8px 12px;border:1px solid #262626;border-radius:999px;color:#b5b5b5;background:#0e0e0e}
    .pill.active{background:#111111;border-color:#363636;color:#ffffff}
    .search{flex:1;min-width:260px;display:flex;align-items:center;gap:10px;background:#0e0e0e;border:1px solid #262626;border-radius:10px;padding:10px 12px}
    .search input{all:unset;flex:1;color:#fff}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}
    .card{position:relative;grid-column:span 12;background:var(--panel);border:1px solid var(--line);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);transition:transform .18s ease}
    .card::before{content:"";position:absolute;inset:0 0 auto 0;height:3px;background:#262626}
    .card[data-cat="jdm"]::before{background:#ef4444}
    .card[data-cat="bmw"]::before{background:#60a5fa}
    .card[data-cat="porsche"]::before{background:#facc15}
    .card[data-cat="motorsports"]::before{background:#22c55e}
    .card:hover{transform:translateY(-2px)}
    .card-body{padding:16px}
    .meta{display:flex;gap:8px;align-items:center;color:var(--muted);font-size:13px}
    .title{font-weight:800;font-size:22px;margin:6px 0 6px;color:var(--brand);letter-spacing:.2px}
    .excerpt{color:var(--muted)}
    .chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
    .chip{font-size:12px;border:1px solid var(--line);padding:4px 10px;border-radius:999px;background:var(--chip)}
    @media(min-width:760px){.card.span-6{grid-column:span 6}.card.span-4{grid-column:span 4}}

    /* Footer */
    footer{margin-top:40px;border-top:1px solid var(--line);padding:32px 0;color:var(--muted)}
    .foot{display:flex;justify-content:space-between;gap:20px;flex-wrap:wrap}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="logo"><span>SHIFT</span></div>
      <nav class="menu">
        <a class="active" href="#top">홈</a>
        <a href="#latest">최신</a>
        <a href="#reviews">리뷰</a>
        <a href="#motorsports">모터스포츠</a>
        <a href="#tech">테크</a>
        <a href="#market">마켓</a>
      </nav>
      <div class="actions">
        <a class="btn" href="#subscribe">구독</a>
        <a class="btn primary" href="#submit">기사 제보</a>
      </div>
    </div>
  </header>

  <main id="top">
    <!-- HERO -->
    <section class="hero container">
      <div class="hero-grid">
        <div>
          <div class="kicker">Racing · JDM · BMW · Porsche</div>
          <h1 class="display">올 블랙, 하이엔드 에디토리얼. 속도의 미학을 기록한다.</h1>
          <p class="lead">JDM의 원형, BMW의 밸런스, 포르쉐의 정밀. 미니멀한 지면에 본질만 남겼습니다.</p>
          <div class="controls">
            <div class="pill active" data-filter="all">전체</div>
            <div class="pill" data-filter="jdm">JDM</div>
            <div class="pill" data-filter="bmw">BMW</div>
            <div class="pill" data-filter="porsche">Porsche</div>
            <div class="pill" data-filter="amg">AMG</div>
            <div class="pill" data-filter="ferrari">Ferrari</div>
            <div class="pill" data-filter="motorsports">Motorsports</div>
            <label class="search" aria-label="검색">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-3.5-3.5" stroke="#93a0b8" stroke-width="2" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="#93a0b8" stroke-width="2"/></svg>
              <input id="search" type="text" placeholder="모델, 브랜드, 키워드 검색" />
            </label>
          </div>
          <!-- Subfilters (BMW 전용) -->
          <div id="subfilters" style="display:none;margin-top:10px;gap:8px;align-items:center">
            <span class="pill" data-sub="all">All</span>
            <span class="pill" data-sub="E">E-Body</span>
            <span class="pill" data-sub="F">F-Body</span>
            <span class="pill" data-sub="G">G-Body</span>
          </div>
          <div id="seriesfilters" style="display:none;margin-top:10px;gap:8px;align-items:center">
            <span class="pill" data-series="all">All</span>
            <span class="pill" data-series="M1">M1</span>
            <span class="pill" data-series="M2">M2</span>
            <span class="pill" data-series="M3">M3</span>
            <span class="pill" data-series="M4">M4</span>
            <span class="pill" data-series="M5">M5</span>
            <span class="pill" data-series="M6">M6</span>
            <span class="pill" data-series="M7">M7</span>
          </div>
        </div>
        <div class="card">
          <div class="thumb">
            <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1600&auto=format&fit=crop" alt="Hero car" loading="lazy"/>
            <div class="shadow"></div>
            <span class="tag">Editorial</span>
          </div>
          <div class="card-body">
            <div class="meta">Vol. 01 · 2025-08-17 · 5 min</div>
            <div class="title">검은 차체, 붉은 포인트: 하이엔드 레이싱 무드</div>
            <p class="excerpt">모노크롬 표면 위의 미세한 질감, 정밀한 스티어링, 그리고 완성도. 미니멀리즘으로 읽는 퍼포먼스.</p>
            <div class="chips"><span class="chip">Editorial</span><span class="chip">Monochrome</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- LATEST GRID -->
    <section id="latest" class="container" aria-label="최신 기사">
      <div class="grid" id="articles"></div>
    </section>

    <!-- CTA STRIP -->
    <section class="container" id="subscribe">
      <div class="card" style="display:flex;align-items:center;justify-content:space-between;gap:14px;padding:18px 20px">
        <div>
          <div class="kicker">Newsletter</div>
          <div class="title" style="margin:4px 0 6px">주 1회, 감도 있는 큐레이션을 메일로</div>
          <div class="excerpt">리뷰, 테크, 모터스포츠, 마켓 하이라이트만 골라서 보내드립니다.</div>
        </div>
        <form id="form" onsubmit="return false" style="display:flex;gap:10px;flex-wrap:wrap">
          <input id="email" type="email" placeholder="이메일 입력" style="all:unset;background:rgba(255,255,255,.05);border:1px solid rgba(148,163,184,.22);padding:10px 12px;border-radius:10px;min-width:240px"/>
          <button class="btn primary" id="subscribeBtn">구독</button>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot">
      <div>© <span id="year"></span> SHIFT. Built with ❤️ & GPT-5. Hosted on GitHub Pages.</div>
      <div style="display:flex;gap:12px">
        <a href="#submit">기사 제보</a>
        <a href="#advertise">광고 문의</a>
        <a href="#policy">정책</a>
      </div>
    </div>
  </footer>

  <script>
    // ------- DATA (샘플 기사) -------
    const DATA = [
      // ==== BMW (E/F/G × M1~M7) ====
      // E-Body
      {id:1001, cat:'bmw', series:'M1', body:'E', model:'M1 (E26)', mins:5, date:'2025-08-17', title:'M1 · 레이싱의 기원',
        excerpt:'E26 파이버글라스 바디와 미드십 직렬6. BMW M의 출발점.',
        img:'https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=1600&auto=format&fit=crop', chips:['E26','Midship','Classic']},
      {id:1002, cat:'bmw', series:'M3', body:'E', model:'M3 (E46)', mins:6, date:'2025-08-16', title:'E46 M3 · 레퍼런스의 기준',
        excerpt:'S54와 섀시 강성이 만든 시대의 표준. 지금도 통하는 셋업.',
        img:'https://images.unsplash.com/photo-1518552718880-67b58f0b6b77?q=80&w=1600&auto=format&fit=crop', chips:['S54','Manual']},
      {id:1003, cat:'bmw', series:'M5', body:'E', model:'M5 (E39)', mins:6, date:'2025-08-15', title:'E39 M5 · V8의 균형감',
        excerpt:'자연흡기 V8과 샤시 밸런스. 그란 투리스모의 정석.',
        img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1600&auto=format&fit=crop', chips:['V8','NA']},
      {id:1004, cat:'bmw', series:'M6', body:'E', model:'M6 (E63)', mins:5, date:'2025-08-14', title:'E63 M6 · 하이레브 V10의 서사',
        excerpt:'S85 V10과 GT 섀시의 공존. 사운드와 스루풋.',
        img:'https://images.unsplash.com/photo-1549923746-c502d488b3ea?q=80&w=1600&auto=format&fit=crop', chips:['S85','GT']},

      // F-Body
      {id:1011, cat:'bmw', series:'M2', body:'F', model:'M2 (F87)', mins:5, date:'2025-08-13', title:'F87 M2 · 컴팩트의 무게중심',
        excerpt:'짧은 휠베이스와 리어-드리븐. 펀-투-드라이브 기준점.',
        img:'https://images.unsplash.com/photo-1552519507-da3b142c6e3d?q=80&w=1600&auto=format&fit=crop', chips:['F87','RWD']},
      {id:1012, cat:'bmw', series:'M3', body:'F', model:'M3 (F80)', mins:6, date:'2025-08-12', title:'F80 M3 · 터보의 세팅',
        excerpt:'S55의 응답과 섀시 보정. 직선과 코너의 균형값.',
        img:'https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=1600&auto=format&fit=crop', chips:['S55','Turbo']},
      {id:1013, cat:'bmw', series:'M4', body:'F', model:'M4 (F82)', mins:5, date:'2025-08-11', title:'F82 M4 · 직선만이 답은 아니다',
        excerpt:'그립과 바디 컨트롤에서 오는 제한의 질감.',
        img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1600&auto=format&fit=crop', chips:['F82']},
      {id:1014, cat:'bmw', series:'M5', body:'F', model:'M5 (F10)', mins:6, date:'2025-08-10', title:'F10 M5 · 고속의 품격',
        excerpt:'S63과 하체 세팅의 조화. 장거리의 유연성.',
        img:'https://images.unsplash.com/photo-1549923746-c502d488b3ea?q=80&w=1600&auto=format&fit=crop', chips:['S63','DCT']},
      {id:1015, cat:'bmw', series:'M6', body:'F', model:'M6 (F13)', mins:5, date:'2025-08-09', title:'F13 M6 · GT의 여백',
        excerpt:'쿠페의 롱 휠베이스와 트윈터보의 매칭.',
        img:'https://images.unsplash.com/photo-1541348263662-e068662d82af?q=80&w=1600&auto=format&fit=crop', chips:['F13']},
      {id:1016, cat:'bmw', series:'M7', body:'F', model:'M7 (F01 기반 760Li 레퍼런스)', mins:4, date:'2025-08-08', title:'M7? · 플래그십의 가능성',
        excerpt:'공식 M은 없지만, 대형 세단에 담긴 성향을 읽다.',
        img:'https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?q=80&w=1600&auto=format&fit=crop', chips:['Flagship']},

      // G-Body
      {id:1021, cat:'bmw', series:'M2', body:'G', model:'M2 (G87)', mins:6, date:'2025-08-07', title:'G87 M2 · 리듬의 재정의',
        excerpt:'뉴트럴한 리어와 초기 응답. 드라이버 입력의 투명성.',
        img:'https://images.unsplash.com/photo-1621135802920-133df287f89f?q=80&w=1600&auto=format&fit=crop', chips:['G87','S58']},
      {id:1022, cat:'bmw', series:'M3', body:'G', model:'M3 (G80)', mins:6, date:'2025-08-06', title:'G80 M3 · 하이브리드 시대의 지점',
        excerpt:'섀시 강성과 전자제어. 일상성과 서킷의 경계.',
        img:'https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=1600&auto=format&fit=crop', chips:['G80']},
      {id:1023, cat:'bmw', series:'M4', body:'G', model:'M4 (G82)', mins:5, date:'2025-08-05', title:'G82 M4 · 다운포스의 읽기',
        excerpt:'프런트 엔드와 리어 트랙의 대화.',
        img:'https://images.unsplash.com/photo-1503376780353-7e6692767b70?q=80&w=1600&auto=format&fit=crop', chips:['G82']},
      {id:1024, cat:'bmw', series:'M5', body:'G', model:'M5 (G90)', mins:6, date:'2025-08-04', title:'G90 M5 · 차세대 GT',
        excerpt:'출력, 무게, 전동화 사이 밸런스 포인트.',
        img:'https://images.unsplash.com/photo-1549923746-c502d488b3ea?q=80&w=1600&auto=format&fit=crop', chips:['G90']},
      {id:1025, cat:'bmw', series:'M7', body:'G', model:'M760i (G12) · 플래그십', mins:4, date:'2025-08-03', title:'G12 M760i · 대형의 속도',
        excerpt:'사운드와 정숙성의 양면. 장거리에서 드러나는 여유.',
        img:'https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?q=80&w=1600&auto=format&fit=crop', chips:['V12','xDrive']},

      // ---- 기존 카테고리 일부 유지 (톤 맞춤) ----
      {id:1101, cat:'porsche', gen:'992', model:'911 GT3 Touring (992)', mins:8, date:'2025-08-01', title:'992 GT3 Touring · 촉감의 스포츠',
        excerpt:'플랫식스의 호흡과 미드-하이 그립.',
        img:'https://images.unsplash.com/photo-1549923746-c502d488b3ea?q=80&w=1600&auto=format&fit=crop', chips:['992','NA']},
      {id:1201, cat:'amg', model:'C63 S', mins:5, date:'2025-07-30', title:'C63 S · 사운드의 기억',
        excerpt:'과거와 현재 파워트레인의 간극.',
        img:'https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?q=80&w=1600&auto=format&fit=crop', chips:['AMG','RWD']},
      {id:1301, cat:'ferrari', model:'488 GTB', mins:6, date:'2025-07-28', title:'488 GTB · 공기와의 대화',
        excerpt:'다운포스와 일상성의 교차점.',
        img:'https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?q=80&w=1600&auto=format&fit=crop', chips:['Turbo','Midship']}
    ];

    // ------- RENDER -------
    const $grid = document.getElementById('articles');
    const fmtDate = s => new Date(s).toLocaleDateString('ko-KR', {year:'numeric',month:'2-digit',day:'2-digit'});

    function render(list){
      $grid.innerHTML = '';
      const catToFlag = { jdm:'🇯🇵', bmw:'🇩🇪', porsche:'🇩🇪', motorsports:'🏁', amg:'🇩🇪', ferrari:'🇮🇹' };
      list.forEach((a)=>{
        const el = document.createElement('article');
        el.className = 'card span-6';
        el.setAttribute('data-cat', a.cat);
        const badge = catToFlag[a.cat] || '';
        const model = a.model ? `<div class="meta" style="margin-top:4px">${a.model}${a.body?` · ${a.body}`:''}${a.gen?` · ${a.gen}`:''}</div>` : '';
        el.innerHTML = `
          <div class="thumb"><img src="${a.img}" alt="${a.title}" loading="lazy" style="filter:grayscale(20%)"><div class="shadow"></div><span class="tag">${a.cat}</span></div>
          <div class="card-body">
            <div class="meta">${fmtDate(a.date)} · ${a.mins} min</div>
            <div class="title">${a.title} ${badge?`<span style='font-size:14px;opacity:.8'>${badge}</span>`:''}</div>
            ${model}
            <p class="excerpt">${a.excerpt}</p>
            <div class="chips">${a.chips?a.chips.map(c=>`<span class=\"chip\">${c}</span>`).join(''):''}</div>
          </div>`;
        $grid.appendChild(el);
      });
    }

    // 초기 렌더
    render(DATA);

    // ------- FILTERS & SEARCH -------
    let current = 'all';
    let subBody = 'all'; // BMW 전용 보조 필터 (E/F/G)
    let subSeries = 'all'; // BMW 전용 시리즈 필터 (M1~M7) // BMW 전용 보조 필터 (E/F/G)
    const $pills = document.querySelectorAll('.pill[data-filter]'); // 메인 필터만 바인딩
    const $search = document.getElementById('search');

    function apply(){
      const q = ($search.value||'').toLowerCase();
      if(!current) current = 'all';
      let list = DATA.filter(a => (current==='all' || a.cat===current) &&
        (a.title.toLowerCase().includes(q) || (a.excerpt||'').toLowerCase().includes(q) || (a.chips||[]).join(' ').toLowerCase().includes(q))
      );
      if(current==='bmw'){
        if(subBody!=='all') list = list.filter(a=> (a.body||'') === subBody);
        if(subSeries!=='all') list = list.filter(a=> (a.series||'') === subSeries);
      }
      render(list);
    }

    $pills.forEach(p=>p.addEventListener('click',()=>{
      // 메인 필터 클릭 처리 (JDM/BMW/Porsche/AMG/Ferrari/Motorsports/전체)
      $pills.forEach(x=>x.classList.remove('active'));
      p.classList.add('active');
      current = p.dataset.filter || 'all';

      // 서브필터 가시성 제어 (BMW만)
      const $sub = document.getElementById('subfilters');
      const $series = document.getElementById('seriesfilters');
      if(current==='bmw'){
        $sub.style.display='flex';
        $series.style.display='flex';
        // 초기화 (All 활성화)
        subBody='all'; subSeries='all';
        $sub.querySelectorAll('.pill').forEach(x=>x.classList.toggle('active', x.dataset.sub==='all'));
        $series.querySelectorAll('.pill').forEach(x=>x.classList.toggle('active', x.dataset.series==='all'));
      } else {
        $sub.style.display='none';
        $series.style.display='none';
        subBody='all'; subSeries='all';
      }
      apply();
    }));
      p.classList.add('active');
      current = p.dataset.filter || 'all';
      // 서브필터 가시성 제어 (BMW만)
      const $sub = document.getElementById('subfilters');
    $sub.addEventListener('click',(e)=>{
      const t = e.target.closest('.pill');
      if(!t) return;
      $sub.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      subBody = t.dataset.sub || 'all';
      if(current!=='bmw'){
        current='bmw';
        document.querySelectorAll('.pill[data-filter]').forEach(x=>x.classList.toggle('active', x.dataset.filter==='bmw'));
        document.getElementById('subfilters').style.display='flex';
        document.getElementById('seriesfilters').style.display='flex';
      }
      apply();
    });

    const $series = document.getElementById('seriesfilters');
    $series.addEventListener('click',(e)=>{
      const t = e.target.closest('.pill');
      if(!t) return;
      $series.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      subSeries = t.dataset.series || 'all';
      if(current!=='bmw'){
        current='bmw';
        document.querySelectorAll('.pill[data-filter]').forEach(x=>x.classList.toggle('active', x.dataset.filter==='bmw'));
        document.getElementById('subfilters').style.display='flex';
        document.getElementById('seriesfilters').style.display='flex';
      }
      apply();
    });
      p.classList.add('active');
      current = p.dataset.filter;
      apply();
    }));

    // --- BMW 서브필터 이벤트 (E/F/G)
    const $sub = document.getElementById('subfilters');
    $sub.addEventListener('click',(e)=>{
      const t = e.target.closest('.pill');
      if(!t) return;
      $sub.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      subBody = t.dataset.sub || 'all';
      if(current!=='bmw'){
        current='bmw';
        document.querySelectorAll('.pill[data-filter]').forEach(x=>x.classList.toggle('active', x.dataset.filter==='bmw'));
        document.getElementById('subfilters').style.display='flex';
        document.getElementById('seriesfilters').style.display='flex';
      }
      apply();
    });

    // --- BMW 시리즈 필터 이벤트 (M1~M7)
    const $series = document.getElementById('seriesfilters');
    $series.addEventListener('click',(e)=>{
      const t = e.target.closest('.pill');
      if(!t) return;
      $series.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      subSeries = t.dataset.series || 'all';
      if(current!=='bmw'){
        current='bmw';
        document.querySelectorAll('.pill[data-filter]').forEach(x=>x.classList.toggle('active', x.dataset.filter==='bmw'));
        document.getElementById('subfilters').style.display='flex';
        document.getElementById('seriesfilters').style.display='flex';
      }
      apply();
    });

    $search.addEventListener('input',()=>{
      apply();
    });
    });

    // ------- UX -------
    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('subscribeBtn').addEventListener('click',()=>{
      const email = document.getElementById('email').value.trim();
      if(!email || !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)){
        alert('올바른 이메일을 입력해 주세요.'); return;
      }
      alert('구독 신청이 접수되었습니다. (데모)');
      document.getElementById('email').value='';
    });

    // 키보드 단축키: J=JDM, B=BMW, P=Porsche, M=Motorsports, A=All
    document.addEventListener('keydown', (e)=>{
      const key = e.key.toLowerCase();
      const map = { j:'jdm', b:'bmw', p:'porsche', m:'motorsports', a:'all' };
      if(map[key]){
        current = map[key];
        $pills.forEach(x=>x.classList.toggle('active', x.dataset.filter===current));
        apply();
      }
    });

    // 메뉴 active 처리(간단)
    const links = document.querySelectorAll('.menu a');
    links.forEach(a=>a.addEventListener('click',()=>{
      links.forEach(x=>x.classList.remove('active'));
      a.classList.add('active');
    }));
    
